import{S as a}from"./sweetalert2.all-WT8JKhcF.js";import{_ as d,o as u,c as m,a as s,f as l,v as c}from"./index-35ZjOdRo.js";var p={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"michaelhsia",BASE_URL:"/Vue3-w6-vite-and-vue-router/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:f}=p,_={data(){return{user:{username:"",password:""}}},methods:{loginPost(){this.axios.post(`${f}/admin/signin`,this.user).then(o=>{const{token:e,expired:r}=o.data;document.cookie=`hexToken=${e}; expires=${new Date(r)}`,a.fire({title:"登入成功",icon:"success",showConfirmButton:!1,timer:1e3}),this.$router.push("/admin/products")}).catch(o=>{a.fire({title:`${o.response.data.message}`,text:"請重新輸入帳號、密碼",icon:"warning",showConfirmButton:!1,timer:1e3}),this.user.username="",this.user.password=""})}}},h={class:"container pt-5"},w=s("h1",{class:"text-center mb-3"},"請先登入",-1),g={class:"row justify-content-center"},v={class:"col-md-6 col-lg-3"},x={class:"form-floating mb-3"},b=s("label",{for:"floatingInput"},"帳號",-1),V={class:"form-floating mb-3"},E=s("label",{for:"floatingPassword"},"密碼",-1);function P(o,e,r,k,n,i){return u(),m("div",h,[w,s("div",g,[s("div",v,[s("form",null,[s("div",x,[l(s("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"請輸入電子郵件","onUpdate:modelValue":e[0]||(e[0]=t=>n.user.username=t)},null,512),[[c,n.user.username]]),b]),s("div",V,[l(s("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"請輸入密碼","onUpdate:modelValue":e[1]||(e[1]=t=>n.user.password=t)},null,512),[[c,n.user.password]]),E]),s("button",{type:"button",class:"w-100 h-25 btn btn-success",onClick:e[2]||(e[2]=(...t)=>i.loginPost&&i.loginPost(...t))}," 登入 ")])])])])}const D=d(_,[["render",P]]);export{D as default};
